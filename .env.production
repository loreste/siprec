# Production configuration for SIPREC Server

# Environment
APP_ENV=production
LOG_LEVEL=info
LOG_FORMAT=json

# Network configuration
SIP_PORTS=5060,5061
RTP_PORT_MIN=16384
RTP_PORT_MAX=32768
EXTERNAL_IP=auto
INTERNAL_IP=auto

# TLS configuration (optional, uncomment to enable)
# TLS_ENABLED=true
# TLS_CERT_FILE=/path/to/cert.pem
# TLS_KEY_FILE=/path/to/key.pem
# TLS_PORT=5061

# Media configuration
BEHIND_NAT=false
STUN_SERVERS=stun.l.google.com:19302,stun1.l.google.com:19302
RECORDING_DIR=./recordings
RECORDING_FORMAT=wav
RECORDING_MAX_DURATION=4h
RECORDING_CLEANUP_DAYS=30

# Audio processing
AUDIO_PROCESSING_ENABLED=true
VAD_ENABLED=true
VAD_THRESHOLD=0.02
NOISE_REDUCTION_ENABLED=true
NOISE_REDUCTION_LEVEL=20
MIX_CHANNELS=true
CHANNEL_COUNT=1

# STT configuration
STT_VENDORS=google
STT_DEFAULT_VENDOR=google
STT_DEFAULT_LANGUAGE=en-US
STT_BUFFER_SIZE=8192
STT_BUFFER_DURATION=5s
STT_INTERIM_RESULTS=true
STT_SINGLE_UTTERANCE=false
STT_PROFANITY_FILTER=false
STT_AUTOMATIC_PUNCTUATION=true
STT_MODEL=phone_call
STT_USE_ENHANCED=true

# Messaging configuration (optional)
# AMQP_URL=amqp://user:pass@rabbitmq:5672/
# AMQP_QUEUE_NAME=siprec_transcriptions
# AMQP_MAX_RETRIES=5
# AMQP_RETRY_DELAY=5s

# HTTP server configuration
HTTP_ENABLED=true
HTTP_PORT=8080
HTTP_READ_TIMEOUT=10s
HTTP_WRITE_TIMEOUT=30s
HTTP_ENABLE_API=true
HTTP_ENABLE_METRICS=true

# Session configuration
SESSION_CLEANUP_INTERVAL=30s
SESSION_MAX_IDLE_TIME=5m

# Performance tuning
MAX_CONCURRENT_CALLS=1000
WORKER_POOL_SIZE=100
CIRCUIT_BREAKER_THRESHOLD=50
CIRCUIT_BREAKER_TIMEOUT=30s

# Redundancy configuration
REDUNDANCY_ENABLED=true
REDUNDANCY_CHECK_INTERVAL=10s
REDUNDANCY_SESSION_TIMEOUT=30s
REDUNDANCY_STORAGE_TYPE=memory

# Encryption configuration
ENABLE_RECORDING_ENCRYPTION=false
ENABLE_METADATA_ENCRYPTION=false
# ENCRYPTION_ALGORITHM=AES-256-GCM
# ENCRYPTION_KEY_DERIVATION=PBKDF2
# ENCRYPTION_MASTER_KEY_PATH=./keys/master.key
# ENCRYPTION_KEY_ROTATION_INTERVAL=24h
# ENCRYPTION_KEY_BACKUP_ENABLED=true

# Monitoring
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s